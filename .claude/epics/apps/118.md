# Task 006: 文档更新和清理

## Frontmatter
```yaml
created: 2025-10-03T18:53:58Z
updated: 2025-10-03T19:15:17Z
epic: apps
task_id: 006
title: 文档更新和清理
description: 更新项目文档以反映新的apps目录结构
priority: medium
estimated_hours: 0.25
size: XS
status: open
assignee: claude
parallel: true
depends_on: [005]
github: https://github.com/ycc-im/noteum/issues/118
```

## 概述

更新项目文档以准确反映apps目录重构后的新结构，清理过时的配置文件，确保开发文档与实际代码结构保持一致。

## 背景

apps目录重构完成并验证命令正常工作后，需要更新相关文档以帮助开发者理解新的项目结构，同时清理不再需要的配置文件。

## 验收标准

### README.md更新
- [ ] 更新项目目录结构说明，反映apps目录的新布局
- [ ] 更新快速开始指南中的路径引用
- [ ] 更新开发命令示例，确保路径正确
- [ ] 添加新的应用目录说明

### 开发文档更新
- [ ] 更新开发指南中的目录结构图
- [ ] 修正文档中的文件路径引用
- [ ] 更新构建和部署说明
- [ ] 修正代码示例中的import路径

### 配置文件清理
- [ ] 识别并清理不再使用的配置文件
- [ ] 移除过时的路径配置
- [ ] 更新.gitignore文件的路径规则
- [ ] 清理临时文件和备份文件

### Git配置更新
- [ ] 更新.gitignore中apps相关的忽略规则
- [ ] 添加新的构建产物路径到忽略列表
- [ ] 移除不再存在的路径的忽略规则
- [ ] 验证重要文件不会被误忽略

## 技术细节

### README.md更新内容

1. **目录结构说明**
   ```markdown
   ## 项目结构

   ```
   noteum/
   ├── apps/                    # 应用程序
   │   ├── web/                # Web应用
   │   ├── electron/           # 桌面应用
   │   └── mobile/             # 移动应用
   ├── packages/               # 共享包
   │   ├── ui/                # UI组件库
   │   ├── shared/            # 共享工具
   │   └── types/             # 类型定义
   ├── docs/                  # 文档
   └── tools/                 # 开发工具
   ```
   ```

2. **快速开始更新**
   ```markdown
   ## 快速开始

   # 安装依赖
   pnpm install

   # 启动所有应用
   pnpm dev

   # 启动特定应用
   pnpm dev --filter @noteum/web
   pnpm dev --filter @noteum/electron
   ```

3. **开发命令更新**
   ```markdown
   ## 开发命令

   # 构建所有应用
   pnpm build

   # 测试所有应用
   pnpm test

   # 类型检查
   pnpm typecheck
   ```

### 开发文档更新

1. **目录结构图更新**
   - 更新架构图中的目录位置
   - 修正组件关系图中的路径
   - 更新数据流图中的模块位置

2. **路径引用修正**
   - 将所有`src/apps/`引用改为`apps/`
   - 更新相对路径和绝对路径示例
   - 修正import语句示例

3. **构建和部署说明**
   - 更新构建产物路径
   - 修正部署脚本路径
   - 更新环境配置文件位置

### 配置文件清理

1. **识别需要清理的文件**
   ```bash
   # 查找可能的配置文件
   find . -name "*.config.js" -o -name "*.config.ts" -o -name "*.json"

   # 查找备份文件
   find . -name "*.bak" -o -name "*.old" -o -name "*~"
   ```

2. **清理规则**
   - 删除指向旧路径的配置文件
   - 移除不再使用的构建配置
   - 清理临时测试文件
   - 删除过时的IDE配置

### .gitignore更新

1. **apps目录规则**
   ```gitignore
   # 应用构建产物
   apps/*/dist/
   apps/*/build/
   apps/*/.next/
   apps/*/out/

   # 应用特定忽略
   apps/electron/release/
   apps/mobile/android/app/build/
   apps/mobile/ios/build/
   ```

2. **移除过时规则**
   ```gitignore
   # 移除这些过时的规则
   # src/apps/*/dist/  # 已移动到apps/
   # web-app/build/    # 已重构
   ```

### 文档验证

1. **链接检查**
   - 验证所有内部链接指向正确文件
   - 检查相对路径链接
   - 确认图片和资源链接有效

2. **示例验证**
   - 测试文档中的命令示例
   - 验证代码示例可以运行
   - 检查路径示例的准确性

## 定义完成

以下条件全部满足时任务完成：

1. ✅ README.md准确反映新的目录结构
2. ✅ 所有开发文档中的路径引用正确
3. ✅ 代码示例和命令示例可以正常工作
4. ✅ 过时的配置文件已清理
5. ✅ .gitignore规则更新且正确
6. ✅ 文档中的链接和引用有效
7. ✅ 新开发者可以根据文档正确设置项目
8. ✅ 构建和部署说明准确可用

## 风险和缓解

### 主要风险
- 文档更新不完整导致开发者困惑
- 清理过程中误删重要文件
- .gitignore规则错误导致文件丢失

### 缓解措施
- 系统性检查所有文档文件
- 清理前备份重要配置
- 测试.gitignore规则确保正确

## 后续影响

完成此任务后：
- 新开发者可以快速理解项目结构
- 开发文档与实际代码结构保持一致
- 项目维护更加高效
- 为future的文档自动化奠定基础
