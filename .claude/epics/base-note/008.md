---
name: TDDåŸºç¡€è®¾æ–½ï¼šæµ‹è¯•æ¡†æ¶é…ç½®å’Œæ ¸å¿ƒå·¥å…·
status: open
created: 2025-10-07T00:00:00Z
github: https://github.com/ycc-im/noteum/issues/135
depends_on: []
parallel: true
conflicts_with: []
---

# Task: TDDåŸºç¡€è®¾æ–½ï¼šæµ‹è¯•æ¡†æ¶é…ç½®å’Œæ ¸å¿ƒå·¥å…·

## Description

å»ºç«‹å®Œæ•´çš„TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰åŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬Jestæµ‹è¯•æ¡†æ¶é…ç½®ã€React Testing Libraryã€æµ‹è¯•æ•°æ®åº“ã€Mockå·¥å…·å’ŒCI/CDé›†æˆï¼Œä¸ºæ•´ä¸ªé¡¹ç›®çš„TDDå¼€å‘æµç¨‹æä¾›åšå®åŸºç¡€ã€‚

**ğŸš¨ ä¼˜å…ˆæ‰§è¡Œä»»åŠ¡**ï¼šæœ¬ä»»åŠ¡æ˜¯æ•´ä¸ªbase-noteé¡¹ç›®çš„åŸºç¡€è®¾æ–½ï¼Œå¿…é¡»åœ¨å…¶ä»–æ‰€æœ‰ä»»åŠ¡ï¼ˆ001-007ï¼‰å¼€å§‹ä¹‹å‰å®Œæˆã€‚æ‰€æœ‰å…¶ä»–ä»»åŠ¡éƒ½ä¾èµ–æœ¬ä»»åŠ¡æä¾›çš„TDDæ¡†æ¶å’Œå·¥å…·æ”¯æŒã€‚

## Acceptance Criteria

- [ ] **TDDåŸåˆ™ç¡®ç«‹**: å»ºç«‹Red-Green-Refactorå¼€å‘å¾ªç¯çš„æ ‡å‡†æµç¨‹
- [ ] é…ç½®Jestæµ‹è¯•æ¡†æ¶ï¼Œæ”¯æŒTypeScriptå’ŒReactç»„ä»¶æµ‹è¯•
- [ ] é›†æˆReact Testing Libraryï¼Œæ”¯æŒç»„ä»¶äº¤äº’æµ‹è¯•
- [ ] åˆ›å»ºTestDatabaseå·¥å…·ç±»ï¼Œæä¾›éš”ç¦»çš„æµ‹è¯•ç¯å¢ƒ
- [ ] é…ç½®æµ‹è¯•Mockå·¥å…·ï¼ˆlocalStorageã€IndexedDBã€Observerç­‰ï¼‰
- [ ] å»ºç«‹æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼Œç›®æ ‡â‰¥90%
- [ ] é…ç½®ESLintå’ŒPrettierï¼Œç¡®ä¿ä»£ç è´¨é‡
- [ ] é›†æˆGitHub Actionsï¼Œå®ç°è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿
- [ ] åˆ›å»ºTDDå¼€å‘è§„èŒƒæ–‡æ¡£å’Œæœ€ä½³å®è·µæŒ‡å—

## Technical Details

### TDDå¼€å‘æµç¨‹

#### Red-Green-Refactorå¾ªç¯
```typescript
// TDDæ ‡å‡†æµç¨‹ç¤ºä¾‹
// 1. RED: å†™å¤±è´¥çš„æµ‹è¯•
describe('Note Creation with TDD', () => {
  it('should create note with view positions', async () => {
    // æµ‹è¯•æ•°æ®
    const noteData = {
      title: 'Test Note',
      content: 'Test content',
      view_positions: {
        'daily': { x: 100, y: 200 },
        'tags': { x: 300, y: 400 }
      }
    };

    // æµ‹è¯•æ‰§è¡Œï¼ˆé¢„æœŸå¤±è´¥ï¼‰
    const noteId = await noteService.create(noteData);
    const savedNote = await noteService.getById(noteId);

    // æ–­è¨€éªŒè¯
    expect(savedNote).toBeDefined();
    expect(savedNote.view_positions).toEqual(noteData.view_positions);
  });
});

// 2. GREEN: å®ç°æœ€å°åŠŸèƒ½è®©æµ‹è¯•é€šè¿‡
// 3. REFACTOR: é‡æ„ä¼˜åŒ–ï¼Œä¿æŒæµ‹è¯•é€šè¿‡
```

#### æµ‹è¯•åˆ†å±‚æ¶æ„
```typescript
// æµ‹è¯•å±‚æ¬¡ç»“æ„ - åŒç›®å½•æµ‹è¯•æ–‡ä»¶è®¾è®¡
src/
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ setup.ts              # å…¨å±€æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ TestDatabase.ts   # æµ‹è¯•æ•°æ®åº“å·¥å…·
â”‚   â”‚   â”œâ”€â”€ TestHelpers.ts    # æµ‹è¯•è¾…åŠ©å‡½æ•°
â”‚   â”‚   â””â”€â”€ mocks/           # Mockå¯¹è±¡
â”‚   â”œâ”€â”€ fixtures/            # æµ‹è¯•æ•°æ®
â”‚   â””â”€â”€ performance/         # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â”œâ”€â”€ NoteList.tsx
â”‚   â”‚   â”œâ”€â”€ NoteList.test.tsx    # åŒç›®å½•ç»„ä»¶æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ NoteItem.tsx
â”‚   â”‚   â”œâ”€â”€ NoteItem.test.tsx    # åŒç›®å½•ç»„ä»¶æµ‹è¯•
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ flow/
â”‚       â”œâ”€â”€ FlowCanvas.tsx
â”‚       â”œâ”€â”€ FlowCanvas.test.tsx  # åŒç›®å½•ç»„ä»¶æµ‹è¯•
â”‚       â””â”€â”€ nodes/
â”‚           â”œâ”€â”€ NoteNode.tsx
â”‚           â”œâ”€â”€ NoteNode.test.tsx    # åŒç›®å½•èŠ‚ç‚¹æµ‹è¯•
â”‚           â”œâ”€â”€ NoteEditorPanel.tsx
â”‚           â””â”€â”€ NoteEditorPanel.test.tsx # åŒç›®å½•ç¼–è¾‘å™¨æµ‹è¯•
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â”œâ”€â”€ NoteService.ts
â”‚   â”‚   â”œâ”€â”€ NoteService.test.ts  # åŒç›®å½•æœåŠ¡æµ‹è¯•
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ Database.ts
â”‚   â”‚   â”œâ”€â”€ Database.test.ts      # åŒç›®å½•æ•°æ®åº“æµ‹è¯•
â”‚   â”‚   â””â”€â”€ schema.ts
â”‚   â””â”€â”€ tags/
â”‚       â”œâ”€â”€ TagService.ts
â”‚       â”œâ”€â”€ TagService.test.ts    # åŒç›®å½•æ ‡ç­¾æœåŠ¡æµ‹è¯•
â”‚       â”œâ”€â”€ parser.ts
â”‚       â””â”€â”€ parser.test.ts        # åŒç›®å½•è§£æå™¨æµ‹è¯•
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useNotes.ts
â”‚   â”œâ”€â”€ useNotes.test.ts      # åŒç›®å½•hookæµ‹è¯•
â”‚   â”œâ”€â”€ useFlowNodes.ts
â”‚   â””â”€â”€ useFlowNodes.test.ts  # åŒç›®å½•hookæµ‹è¯•
â””â”€â”€ test/
    â””â”€â”€ e2e/                   # ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå•ç‹¬ç›®å½•ï¼‰
        â”œâ”€â”€ note-creation.e2e.ts
        â””â”€â”€ flow-interactions.e2e.ts
```

#### åŒç›®å½•æµ‹è¯•çš„ä¼˜åŠ¿
1. **æ›´å¥½çš„å¯å‘ç°æ€§** - æµ‹è¯•æ–‡ä»¶å°±åœ¨å®ç°æ–‡ä»¶æ—è¾¹ï¼Œå®¹æ˜“æ‰¾åˆ°å’Œç»´æŠ¤
2. **æ›´å¼ºçš„å…³è”æ€§** - æµ‹è¯•ä¸å®ç°ç´§å¯†å…³è”ï¼Œé‡æ„æ—¶æ›´å®¹æ˜“åŒæ­¥æ›´æ–°
3. **ç®€åŒ–å¯¼å…¥** - ç›¸å¯¹è·¯å¾„å¯¼å…¥æ›´ç®€æ´ï¼Œé¿å…å¤æ‚çš„è·¯å¾„è§£æ
4. **æ¨¡å—åŒ–ç»„ç»‡** - æ¯ä¸ªåŠŸèƒ½æ¨¡å—åŒ…å«è‡ªå·±çš„æµ‹è¯•ï¼Œç¬¦åˆæ¨¡å—åŒ–è®¾è®¡
5. **æ–°äººå‹å¥½** - æ–°å›¢é˜Ÿæˆå‘˜æ›´å®¹æ˜“ç†è§£æµ‹è¯•ç»“æ„å’Œæ‰¾åˆ°ç›¸å…³æµ‹è¯•

### Jesté…ç½®
```javascript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/src/test/setup.ts'],
  moduleNameMapping: {
    '^@/(.*)$': '<rootDir>/src/$1',
    '^@components/(.*)$': '<rootDir>/src/components/$1',
    '^@stores/(.*)$': '<rootDir>/src/stores/$1',
    '^@services/(.*)$': '<rootDir>/src/services/$1',
    '^@hooks/(.*)$': '<rootDir>/src/hooks/$1',
    '^@utils/(.*)$': '<rootDir>/src/utils/$1'
  },
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/test/**/*',
    '!src/**/*.stories.tsx',
    '!src/**/*.test.{ts,tsx}',
    '!src/**/*.spec.{ts,tsx}',
    '!src/test/e2e/**/*'  // æ’é™¤ç«¯åˆ°ç«¯æµ‹è¯•
  ],
  coverageThreshold: {
    global: {
      branches: 90,
      functions: 90,
      lines: 90,
      statements: 90
    }
  },
  testMatch: [
    // åŒç›®å½•æµ‹è¯•æ–‡ä»¶åŒ¹é…
    '<rootDir>/src/**/*.{test,spec}.{ts,tsx}',
    // ä¿ç•™ä¼ ç»Ÿ__tests__ç›®å½•æ”¯æŒ
    '<rootDir>/src/**/__tests__/**/*.{ts,tsx}',
    // æ€§èƒ½æµ‹è¯•
    '<rootDir>/src/test/performance/**/*.test.{ts,tsx}'
  ],
  // å¿½ç•¥ç‰¹å®šæ–‡ä»¶å’Œç›®å½•
  testPathIgnorePatterns: [
    '<rootDir>/node_modules/',
    '<rootDir>/dist/',
    '<rootDir>/build/',
    '<rootDir>/.next/',
    '<rootDir>/src/test/e2e/'  // E2Eæµ‹è¯•å•ç‹¬è¿è¡Œ
  ],
  // è¦†ç›–ç‡æŠ¥å‘Šæ ¼å¼
  coverageReporters: [
    'text',
    'lcov',
    'html',
    'json-summary'
  ],
  // æµ‹è¯•ç¯å¢ƒè®¾ç½®
  setupFiles: ['<rootDir>/src/test/setup.ts'],
  // æ¨¡å—æ–‡ä»¶æ‰©å±•å
  moduleFileExtensions: ['ts', 'tsx', 'js', 'jsx', 'json'],
  // è½¬æ¢å¿½ç•¥æ¨¡å¼
  transformIgnorePatterns: [
    'node_modules/(?!(dexter|@tanstack|@reactflow)/)'
  ]
};
```

#### æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ
```typescript
// åŒç›®å½•æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â”œâ”€â”€ NoteList.tsx              # ç»„ä»¶å®ç°
â”‚   â”‚   â”œâ”€â”€ NoteList.test.tsx         # ç»„ä»¶æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ NoteList.stories.tsx      # Storybookæ•…äº‹
â”‚   â”‚   â”œâ”€â”€ NoteItem.tsx
â”‚   â”‚   â”œâ”€â”€ NoteItem.test.tsx
â”‚   â”‚   â”œâ”€â”€ NoteItem.integration.test.tsx  # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ flow/
â”‚       â”œâ”€â”€ FlowCanvas.tsx
â”‚       â”œâ”€â”€ FlowCanvas.test.tsx       # å•å…ƒæµ‹è¯•
â”‚       â”œâ”€â”€ FlowCanvas.performance.test.tsx  # æ€§èƒ½æµ‹è¯•
â”‚       â””â”€â”€ FlowCanvas.e2e.test.tsx   # ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆåœ¨e2eç›®å½•ä¸­ï¼‰

// å‘½åè§„èŒƒè¯´æ˜ï¼š
// *.test.tsx        - æ ‡å‡†å•å…ƒæµ‹è¯•
// *.integration.test.tsx - é›†æˆæµ‹è¯•
// *.performance.test.tsx - æ€§èƒ½åŸºå‡†æµ‹è¯•
// *.spec.tsx        - è§„èŒƒæµ‹è¯•ï¼ˆä¸testç›¸åŒï¼‰
// __tests__/        - ä¼ ç»Ÿç›®å½•ï¼Œä¿ç•™å…¼å®¹æ€§
```

### æµ‹è¯•å·¥å…·ç±»
```typescript
// src/test/utils/TestDatabase.ts
export class TestDatabase {
  private static instance: TestDatabase;
  private db: Dexie;

  private constructor() {
    this.db = new Dexie('test_noteum');
    this.setupSchema();
  }

  static getInstance(): TestDatabase {
    if (!TestDatabase.instance) {
      TestDatabase.instance = new TestDatabase();
    }
    return TestDatabase.instance;
  }

  async reset(): Promise<void> {
    await this.db.delete();
    await this.db.open();
  }

  async seedTestData(): Promise<TestData> {
    // æä¾›æ ‡å‡†æµ‹è¯•æ•°æ®
  }

  getDB(): Dexie {
    return this.db;
  }
}

// src/test/utils/TestHelpers.ts
export class TestHelpers {
  static createMockNote(overrides: Partial<Note> = {}): Note {
    return {
      id: `note-${Date.now()}`,
      title: 'Test Note',
      content: 'Test content #test',
      created_at: new Date(),
      updated_at: new Date(),
      view_positions: {},
      ...overrides
    };
  }

  static async waitFor(condition: () => boolean, timeout = 5000): Promise<void> {
    // ç­‰å¾…æ¡ä»¶æ»¡è¶³çš„è¾…åŠ©å‡½æ•°
  }
}
```

### TDDæœ€ä½³å®è·µ

#### 1. æµ‹è¯•å‘½åè§„èŒƒ
```typescript
describe('NoteService', () => {
  describe('create', () => {
    it('should create note with valid data', async () => {
      // æµ‹è¯•æ­£å¸¸æµç¨‹
    });

    it('should throw error with invalid title', async () => {
      // æµ‹è¯•å¼‚å¸¸æƒ…å†µ
    });

    it('should generate ID automatically', async () => {
      // æµ‹è¯•ç‰¹å®šåŠŸèƒ½ç‚¹
    });
  });
});
```

#### 2. æµ‹è¯•æ•°æ®ç®¡ç†
```typescript
// ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºæµ‹è¯•æ•°æ®
class NoteFactory {
  static create(overrides: Partial<Note> = {}): Note {
    return {
      id: faker.datatype.uuid(),
      title: faker.lorem.sentence(),
      content: faker.lorem.paragraph(),
      created_at: faker.date.past(),
      updated_at: faker.date.recent(),
      view_positions: {},
      ...overrides
    };
  }

  static withTags(tags: string[]): Note {
    return this.create({
      content: `Content with ${tags.map(t => `#${t}`).join(' ')}`
    });
  }
}
```

#### 3. Mockç­–ç•¥
```typescript
// åˆ†å±‚Mockï¼Œä¿æŒæµ‹è¯•ç‹¬ç«‹æ€§
jest.mock('@/services/storage/database', () => ({
  db: {
    notes: {
      add: jest.fn(),
      get: jest.fn(),
      update: jest.fn(),
      delete: jest.fn()
    }
  }
}));

// åœ¨æµ‹è¯•ä¸­é…ç½®Mockè¡Œä¸º
beforeEach(() => {
  jest.clearAllMocks();
  mockDB.notes.add.mockResolvedValue('note-id-123');
});
```

### æ€§èƒ½æµ‹è¯•æ¡†æ¶
```typescript
// src/test/performance/noteOperations.test.ts
describe('Note Operations Performance', () => {
  it('should create 100 notes within performance threshold', async () => {
    const startTime = performance.now();

    const promises = Array.from({ length: 100 }, () =>
      noteService.create(TestHelpers.createMockNote())
    );

    await Promise.all(promises);
    const endTime = performance.now();

    expect(endTime - startTime).toBeLessThan(1000); // 1ç§’å†…å®Œæˆ
  });

  it('should handle large dataset queries efficiently', async () => {
    // å¤§æ•°æ®é›†æŸ¥è¯¢æ€§èƒ½æµ‹è¯•
  });
});
```

### CI/CDé›†æˆ
```yaml
# .github/workflows/tdd.yml
name: TDD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18.x, 20.x]

    steps:
    - uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'

    - name: Install dependencies
      run: npm ci

    - name: Run linting
      run: npm run lint

    - name: Run type checking
      run: npm run type-check

    - name: Run TDD tests
      run: npm run test:tdd -- --coverage

    - name: Upload coverage
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage/lcov.info
        fail_ci_if_error: true

  performance:
    runs-on: ubuntu-latest
    needs: test

    steps:
    - uses: actions/checkout@v3
    - name: Run performance tests
      run: npm run test:performance
```

### åŒç›®å½•æµ‹è¯•æœ€ä½³å®è·µ

#### 1. æµ‹è¯•æ–‡ä»¶ç»„ç»‡ç­–ç•¥
```typescript
// ç»„ä»¶ç›®å½•ç»“æ„ç¤ºä¾‹
src/components/notes/
â”œâ”€â”€ NoteList.tsx                    # ä¸»ç»„ä»¶
â”œâ”€â”€ NoteList.test.tsx               # å•å…ƒæµ‹è¯•
â”œâ”€â”€ NoteList.integration.test.tsx   # é›†æˆæµ‹è¯•ï¼ˆä¸å­˜å‚¨å±‚äº¤äº’ï¼‰
â”œâ”€â”€ NoteList.stories.tsx            # Storybookæ•…äº‹
â”œâ”€â”€ NoteItem.tsx
â”œâ”€â”€ NoteItem.test.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useNoteList.ts
â”‚   â””â”€â”€ useNoteList.test.ts
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ noteHelpers.ts
â”‚   â””â”€â”€ noteHelpers.test.ts
â””â”€â”€ index.ts                         # å¯¼å‡ºæ¥å£

// æœåŠ¡ç›®å½•ç»“æ„ç¤ºä¾‹
src/services/notes/
â”œâ”€â”€ NoteService.ts                   # æœåŠ¡å®ç°
â”œâ”€â”€ NoteService.test.ts              # æœåŠ¡æµ‹è¯•
â”œâ”€â”€ NoteService.integration.test.ts  # é›†æˆæµ‹è¯•ï¼ˆä¸æ•°æ®åº“äº¤äº’ï¼‰
â”œâ”€â”€ types.ts                         # ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ noteValidation.ts
â”‚   â””â”€â”€ noteValidation.test.ts
â””â”€â”€ __mocks__/                       # å±€éƒ¨Mockæ–‡ä»¶
    â””â”€â”€ externalService.ts
```

#### 2. å¯¼å…¥è·¯å¾„ä¼˜åŒ–
```typescript
// åŒç›®å½•æµ‹è¯•ä¸­çš„ç›¸å¯¹å¯¼å…¥ç¤ºä¾‹
// src/components/notes/NoteList.test.tsx
import { NoteList } from './NoteList';
import { useNoteList } from './hooks/useNoteList';
import { NoteService } from '@services/notes/NoteService';
import { TestDatabase } from '@test/utils/TestDatabase';

describe('NoteList Component', () => {
  // æµ‹è¯•å®ç°
});

// ç®€åŒ–çš„Mockè®¾ç½®
jest.mock('@services/notes/NoteService');
jest.mock('./hooks/useNoteList');
```

#### 3. æµ‹è¯•åˆ†ç»„å’Œå‘½å
```typescript
// src/services/notes/NoteService.test.ts
import { NoteService } from './NoteService';
import { TestDatabase } from '@test/utils/TestDatabase';
import { NoteFactory } from '@test/utils/NoteFactory';

describe('NoteService', () => {
  // è®¾ç½®æµ‹è¯•ç¯å¢ƒ
  beforeEach(async () => {
    await TestDatabase.getInstance().reset();
  });

  describe('create', () => {
    it('should create note with valid data', async () => {
      // æµ‹è¯•å®ç°
    });

    it('should throw validation error for invalid title', async () => {
      // æµ‹è¯•å®ç°
    });
  });

  describe('getByView', () => {
    it('should return notes for specific view', async () => {
      // æµ‹è¯•å®ç°
    });
  });
});
```

#### 4. VSCodeé…ç½®æ”¯æŒ
```json
// .vscode/settings.json
{
  "jest.pathToConfig": "<rootDir>/jest.config.js",
  "jest.rootPath": "<rootDir>",
  "jest.enableCodeLens": true,
  "jest.runAllTestsFirst": false,
  "jest.showCoverageOnLoad": false,
  "typescript.preferences.includePackageJsonAutoImports": "on",
  "explorer.fileNesting.enabled": true,
  "explorer.fileNesting.patterns": {
    "*.ts": "$(capture).test.ts, $(capture).spec.ts, $(capture).d.ts",
    "*.tsx": "$(capture).test.tsx, $(capture).spec.tsx, $(capture).stories.tsx"
  }
}
```

#### 5. æµ‹è¯•è„šæœ¬é…ç½®
```json
// package.json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:unit": "jest --testPathIgnorePatterns=src/test/e2e",
    "test:integration": "jest --testNamePattern='integration'",
    "test:performance": "jest --testPathPattern=src/test/performance",
    "test:component": "jest --testPathPattern=src/components",
    "test:service": "jest --testPathPattern=src/services",
    "test:changed": "jest --onlyChanged",
    "test:related": "jest --changedSince=main"
  }
}
```

### ä»£ç æ–‡ä»¶å½±å“

#### æµ‹è¯•åŸºç¡€è®¾æ–½
- `jest.config.js` - Jestæµ‹è¯•æ¡†æ¶é…ç½®ï¼ˆæ”¯æŒåŒç›®å½•æµ‹è¯•ï¼‰
- `src/test/setup.ts` - å…¨å±€æµ‹è¯•é…ç½®å’ŒMock
- `src/test/utils/` - æµ‹è¯•å·¥å…·ç±»
- `src/test/fixtures/` - æµ‹è¯•æ•°æ®æ–‡ä»¶
- `src/test/performance/` - æ€§èƒ½åŸºå‡†æµ‹è¯•
- `.vscode/settings.json` - VSCodeæµ‹è¯•æ”¯æŒé…ç½®

#### é¡¹ç›®ç»“æ„ç¤ºä¾‹
```
src/
â”œâ”€â”€ components/notes/NoteList.tsx
â”œâ”€â”€ components/notes/NoteList.test.tsx
â”œâ”€â”€ services/notes/NoteService.ts
â”œâ”€â”€ services/notes/NoteService.test.ts
â”œâ”€â”€ hooks/useNotes.ts
â”œâ”€â”€ hooks/useNotes.test.ts
â””â”€â”€ test/
    â”œâ”€â”€ setup.ts
    â”œâ”€â”€ utils/
    â”œâ”€â”€ fixtures/
    â””â”€â”€ performance/
```

#### CI/CDé…ç½®
- `.github/workflows/tdd.yml` - TDDæµæ°´çº¿é…ç½®
- `.eslintrc.js` - ESLinté…ç½®
- `.prettierrc` - Prettieré…ç½®

#### æ–‡æ¡£
- `docs/tdd-guidelines.md` - TDDå¼€å‘è§„èŒƒ
- `docs/testing-best-practices.md` - æµ‹è¯•æœ€ä½³å®è·µ
- `docs/test-structure.md` - åŒç›®å½•æµ‹è¯•ç»“æ„æŒ‡å—

## Dependencies

- [ ] Node.js 18+ ç¯å¢ƒ
- [ ] Jestæµ‹è¯•æ¡†æ¶
- [ ] React Testing Library
- [ ] TypeScriptæ”¯æŒ
- [ ] ESLintå’ŒPrettier

## Execution Priority

**ğŸ”´ ç¬¬ä¸€é˜¶æ®µ - å¿…é¡»æœ€å…ˆæ‰§è¡Œ**
- æœ¬ä»»åŠ¡æ˜¯æ•´ä¸ªé¡¹ç›®çš„åŸºç¡€è®¾æ–½ï¼Œä¸ºå…¶ä»–æ‰€æœ‰TDDä»»åŠ¡æä¾›æ¡†æ¶æ”¯æŒ
- å¿…é¡»åœ¨ä»»åŠ¡001-007å¼€å§‹ä¹‹å‰å®Œæˆ
- å®Œæˆåç«‹å³å¯åŠ¨å…¶ä»–ä»»åŠ¡çš„å¹¶è¡ŒTDDå¼€å‘

## Effort Estimate

- Size: M
- Days: 1-2å¤©
- Parallel: true

## Definition of Done

- [ ] TDDåŸºç¡€è®¾æ–½æ­å»ºå®Œæˆï¼Œæ‰€æœ‰é…ç½®æ–‡ä»¶å°±ä½
- [ ] æµ‹è¯•æ¡†æ¶æ­£å¸¸è¿è¡Œï¼ŒåŸºç¡€æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šæ­£å¸¸ç”Ÿæˆï¼Œç›®æ ‡â‰¥90%
- [ ] CI/CDæµæ°´çº¿é…ç½®å®Œæˆï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œæ­£å¸¸
- [ ] TDDå¼€å‘è§„èŒƒæ–‡æ¡£å®Œæˆï¼Œå›¢é˜Ÿå·²äº†è§£æµç¨‹
- [ ] æ€§èƒ½æµ‹è¯•æ¡†æ¶å°±ä½ï¼ŒåŸºå‡†æµ‹è¯•å¯ç”¨
- [ ] ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·é…ç½®å®Œæˆï¼Œé›†æˆåˆ°CI/CD
- [ ] å›¢é˜ŸTDDåŸ¹è®­å®Œæˆï¼Œå¼€å‘æµç¨‹ç¡®è®¤