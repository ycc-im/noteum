import{u as a,a as d,b as l,r as x,j as e}from"./main-Bxk9jIdu.js";function m(u){const{signIn:n,isAuthenticated:i,isLoading:s}=a(),o=d(),t=l({from:"/login"});return x.useEffect(()=>{if(i){const r=t.redirect||"/dashboard";o({to:r});return}if(!s&&!i&&typeof window<"u"){const r=`${window.location.origin}/auth/callback`,c=t.redirect?JSON.stringify({redirect:t.redirect}):void 0;n(r,c)}},[i,s,n,o,t.redirect]),s||i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"正在跳转到登录页面..."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"登录到 Noteum"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"正在跳转到安全登录页面..."})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>{if(typeof window<"u"){const r=`${window.location.origin}/auth/callback`,c=t.redirect?JSON.stringify({redirect:t.redirect}):void 0;n(r,c)}},className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"点击登录"})})]})})}const g=m;export{g as component};
