# =============================================================================
# Noteum Services Environment Configuration
# =============================================================================
# Copy this file to .env.local for local development
# Do not commit .env files to version control
# =============================================================================

# Application Configuration
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# Database Configuration
# Option 1: Full connection string (recommended)
DATABASE_URL="postgresql://postgres:password@localhost:5432/noteum?schema=public"

# Option 2: Individual database components (alternative to DATABASE_URL)
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=your-password
# DB_NAME=noteum
# DB_SCHEMA=public

# Database Settings
DATABASE_SSL=false
DATABASE_MAX_CONNECTIONS=20
DATABASE_TIMEOUT=30000

# Redis Configuration
# Option 1: Full connection string (recommended)
REDIS_URL="redis://localhost:6379"

# Option 2: Individual Redis components (alternative to REDIS_URL)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# Redis Settings
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100

# JWT Configuration
# IMPORTANT: Use a strong secret in production (at least 32 characters)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# WebSocket Configuration (YJS)
YJS_HOST=localhost
YJS_PORT=3001
WS_MAX_CONNECTIONS=1000

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760  # 10MB in bytes
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf
UPLOAD_DESTINATION=./uploads

# Logging Configuration
LOG_LEVEL=info          # error, warn, info, debug, verbose
LOG_FORMAT=json         # json, simple
LOG_MAX_SIZE=20m        # Maximum log file size
LOG_MAX_FILES=14d       # Maximum log file retention

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# Security Configuration
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds
RATE_LIMIT_MAX=100       # Maximum requests per window

# AI Configuration (Optional)
# Leave empty if not using AI features
OPENAI_API_KEY=
EMBEDDING_MODEL=text-embedding-ada-002
AI_MAX_TOKENS=4096

# Development Settings
# Enable detailed error messages in development
DEBUG_MODE=true

# Monitoring (Optional)
# SENTRY_DSN=
# DATADOG_API_KEY=